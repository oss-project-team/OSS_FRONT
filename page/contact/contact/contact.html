<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>쪽지함</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="contact.css">
</head>

<body>

<!-- ================== 쪽지 목록 화면 ================== -->
<div id="contactList" class="active">

<header class="top-header">
    <!-- ❌ 쪽지함 목록 화면에서는 뒤로가기 필요 X → 제거됨 -->
    <span>쪽지함</span>

    <div class="right-icons">
        <i class="material-icons" id="noticeBtn">notifications</i>   <!-- 알림함 -->
        <i class="material-icons" id="settingBtn">settings</i>       <!-- 설정 -->
    </div>
</header>


<div class="contact-wrapper">

    <div class="msg-card" onclick="openChat('친구A')">
        <div class="avatar"></div>
        <div class="text-box">
            <p class="name">친구A <span id="dot-친구A" class="unread-dot"></span></p>
            <p id="preview-친구A" class="preview">최근 대화 없음</p>
        </div>
    </div>

    <div class="msg-card" onclick="openChat('친구B')">
        <div class="avatar"></div>
        <div class="text-box">
            <p class="name">친구B <span id="dot-친구B" class="unread-dot"></span></p>
            <p id="preview-친구B" class="preview">최근 대화 없음</p>
        </div>
    </div>

    <div class="msg-card" onclick="openChat('친구C')">
        <div class="avatar"></div>
        <div class="text-box">
            <p class="name">친구C <span id="dot-친구C" class="unread-dot"></span></p>
            <p id="preview-친구C" class="preview">최근 대화 없음</p>
        </div>
    </div>

    <div class="msg-card" onclick="openChat('친구D')">
        <div class="avatar"></div>
        <div class="text-box">
            <p class="name">친구D <span id="dot-친구D" class="unread-dot"></span></p>
            <p id="preview-친구D" class="preview">최근 대화 없음</p>
        </div>
    </div>

</div>
</div>


<!-- ================== 채팅창 ================== -->
<div id="chatWindow">

<header class="chat-header">
    <!-- 🔙 채팅 내부에서는 뒤로가기 존재함 (openChat → closeChat) -->
    <button class="back-btn" onclick="closeChat()"><i class="material-icons">arrow_back</i></button>
    <span id="chatName"></span>

    <button class="chat-bell-btn" onclick="toggleChatAlarm()">
        <i id="chatBellIcon" class="material-icons chat-bell-icon">notifications</i>
    </button>
</header>

<div id="chatContent" class="chat-content"></div>

<div class="chat-input-area">
    <label class="img-upload">
        📎<input type="file" accept="image/*" onchange="sendImage(event)">
    </label>

    <input id="chatInput" placeholder="메시지를 입력하세요" onkeydown="handleEnter(event)">
    <button class="send-btn" onclick="sendMessage()">➤</button>
</div>

</div>


<!-- ================== 이미지 팝업 ================== -->
<div id="imgModal" class="img-modal">
    <span class="close-modal">&times;</span>
    <img id="modalImg" class="modal-content-img">
</div>


<!-- ================== 하단바 ================== -->
<nav class="bottom-nav">

    <button class="nav-item active">
        <i class="material-icons nav-icon">mail</i>
        <span class="nav-label">쪽지함</span>
    </button>

    <button class="nav-item">
        <i class="material-icons nav-icon">home</i>
        <span class="nav-label">홈</span>
    </button>

    <button class="nav-item">
        <i class="material-icons nav-icon">person</i>
        <span class="nav-label">마이페이지</span>
    </button>

</nav>


<script src="contact.js"></script>
</body>
</html>
